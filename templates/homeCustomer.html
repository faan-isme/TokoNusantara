<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta property="og:title" content="Toko Nusantara" />
    <meta property="og:description" content="Toko Nusantara" />
    <meta property="og:image" content="{{url_for('static', filename='logo_red.png')}}" />
    <link rel="shortcut icon" href="{{url_for('static', filename='favicon.ico')}}" type="image/x-icon" />
    <link rel="icon" href="{{url_for('static', filename='favicon.ico')}}" type="image/x-icon" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

    <!-- external css   -->
    <link href='{{ url_for("static", filename="style.css") }}' rel="stylesheet">
    <!-- font-awsome -->
    <script src="https://kit.fontawesome.com/2efb8198c8.js" crossorigin="anonymous"></script>

    <title>Toko Nusantara</title>


    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            // Function to retrieve sellers from the server
            function getSellers() {
                $.ajax({
                    type: "GET",
                    url: "/get_sellers",
                    success: function (data) {
                        updateSellerList(data.sellers);
                    },
                    error: function (error) {
                        console.error("Error fetching sellers:", error);
                    }
                });
            }
            // Function to update the DOM with the list of sellers
            function updateSellerList(sellers) {
                var toserbaContainer = $("#toserba");

                // Clear existing content
                toserbaContainer.empty();

                // Iterate through the sellers and append cards to the container
                sellers.forEach(function (seller) {
                    // Log each seller's toserbaname with the role "seller"
                    if (seller.role === "seller") {
                        console.log("Seller toserbaname:", seller.toserbaname);
                    }

                    var cardHtml = `
                    <div class="col">
                        <div class="card">
                            <img src="./static/${seller.profile_pic_real}" alt="...">
                            <div class="card-body">
                                <h5 class="text-center">${seller.toserbaname}</h5>
                                <p class="text-center">${seller.profile_info}</p>
                            </div>
                            <div class="d-flex justify-content-around mb-5">
                                <button class="btn btn-secondary">lihat</button>
                            </div>
                        </div>
                    </div>`;
                    // Append the card HTML to the container
                    toserbaContainer.append(cardHtml);
                });
            }

            // Call the function to get sellers when the document is loaded
            getSellers();
        });
    </script>

<body>

    <style>
        .search {
            --padding: 14px;

            width: max-content;
            display: flex;

            align-items: center;
            padding: var(--padding);
            padding: 8px;
            border-radius: 28px;
            background: #f6f6f6;
            transition: box-shadow 0.25;
        }

        .search:focus-within {
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.75);
        }

        .search-input {
            font-size: 16px;
            font-family: 'Lexend', sans-serif;
            color: #333333;
            margin-left: var(--padding);
            outline: none;
            border: none;
            background: transparent;
            width: 350px;
            flex: 1;
        }

        .search-input::placeholder {
            color: rgba(0, 0, 0, 0.5);
        }

        .search-input::placeholder {
            text-align: center;
        }

        .search-input {
            justify-content: center;
        }



        .mycards {
            margin: 20px auto 0px auto;
            width: 95%;
            max-width: 1200px;
        }

        .card {
            margin-bottom: 50px;
            border-radius: 10px;
            box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
        }

        .card .btn-secondary {
            border-radius: 10px;
            width: 150px;
            margin-top: 20px;
            padding-top: 5px;
        }

        .main-footer {
            margin-top: 50px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Function to retrieve sellers from the server
            function getSellers() {
                fetch('/get_sellers')
                    .then(response => response.json())
                    .then(data => {
                        console.log('List of Sellers:', data.sellers);
                        logToserbaname(data.sellers);
                    })
                    .catch(error => console.error('Error fetching sellers:', error));
            }

            // Function to log the "toserbaname" of each seller
            function logToserbaname(sellers) {
                sellers.forEach(seller => {
                    if (seller.role === 'seller') {
                        console.log('Seller toserbaname:', seller.toserbaname);
                    }
                });
            }

            // Call the function to get sellers when the document is loaded
            getSellers();
        });
    </script>

    </head>

    <body>


        <nav class="nav-container fixed-top">
            <div class="navbar-brand"><img src="{{ url_for('static', filename='logo.png') }}" alt="logo toko nusantara"
                    style="max-height: 25px;"></div>
            <div class="search" style="max-height: 25px; color:#000000;">
                <input class="search-input" id="search" type="search" placeholder="mau cari apa?" onkeyup="ajax">
                <i class="fa-solid fa-magnifying-glass fa-fade" style="color: #000000;"
                    onclick="ambilValueDariSearch"></i>
            </div>
            <div class="nav-login">
                <a class="login" href="/login"><i class="fa-solid fa-arrow-right-to-bracket fa-lg"
                        style="color: #000000;"></i></a>
            </div>
        </nav>

        <div id="hero-carousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#hero-carousel" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>

            <div class="carousel-inner">
                <div class="carousel-item active c-item">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmU-8_kFHcCrOoGxKy6osxgOk6Ecs_lE-Z3EKyxw34YB_WXjsv8NFRFPRysP-BeLyebEo&usqp=CAU"
                        class="d-block w-100 c-img" alt="Slide 1">
                    <div class="carousel-caption top-0 mt-5 d-none d-md-block">
                        <h1 class="display-1 fw-bolder text-capitalize">Text Heading</h1>
                    </div>
                </div>
                <div class="carousel-item c-item">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmU-8_kFHcCrOoGxKy6osxgOk6Ecs_lE-Z3EKyxw34YB_WXjsv8NFRFPRysP-BeLyebEo&usqp=CAU"
                        class="d-block w-100 c-img" alt="Slide 2">
                    <div class="carousel-caption top-0 mt-5 d-none d-md-block">
                        <h1 class="display-1 fw-bolder text-capitalize">Text Heading</h1>
                    </div>
                </div>
                <div class="carousel-item c-item">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmU-8_kFHcCrOoGxKy6osxgOk6Ecs_lE-Z3EKyxw34YB_WXjsv8NFRFPRysP-BeLyebEo&usqp=CAU"
                        class="d-block w-100 c-img" alt="Slide 3">
                    <div class="carousel-caption top-0 mt-5 d-none d-md-block">
                        <h1 class="display-1 fw-bolder text-capitalize">Text Heading</h1>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#hero-carousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#hero-carousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>



        <div class="container d-flex flex-wrap justify-content-center mt-5">
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Elektronik</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Kecantikan</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Kebersihan</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Makanan</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Minuman</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Perabotan</button>
          <button type="button" id="Semua" class="btn btn-warning mx-3" onclick="ambilDataSemua">Sembako</button>
      </div>


        <div class="mycards">
            <p>Rekomendasi Produk</p>
            <div class="row row-cols-1 row-cols-md-4 g-4">
                <div class="col">
                    <div class="card">
                        <img src="https://icons.veryicon.com/png/o/miscellaneous/utility/logout-24.png"
                            class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Nama Barang</h5>
                            <p class="card-text">Harga Barang</p>
                        </div>
                        <div class="d-flex justify-content-around mb-5">
                            <button class="btn btn-secondary">tambah ke daftar</button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="https://icons.veryicon.com/png/o/miscellaneous/utility/logout-24.png"
                            class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Nama Barang</h5>
                            <p class="card-text">Harga Barang</p>
                        </div>
                        <div class="d-flex justify-content-around mb-5">
                            <button class="btn btn-secondary">tambah ke daftar</button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="https://icons.veryicon.com/png/o/miscellaneous/utility/logout-24.png"
                            class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Nama Barang</h5>
                            <p class="card-text">Harga Barang</p>
                        </div>
                        <div class="d-flex justify-content-around mb-5">
                            <button class="btn btn-secondary">tambah ke daftar</button>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="card">
                        <img src="https://icons.veryicon.com/png/o/miscellaneous/utility/logout-24.png"
                            class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="card-title">Nama Barang</h5>
                            <p class="card-text">Harga Barang</p>
                        </div>
                        <div class="d-flex justify-content-around mb-5">
                            <button class="btn btn-secondary">tambah ke daftar</button>
                        </div>
                    </div>
                </div>
            </div>
            <p>Rekomendasi Toko</p>
            <div id="toserba" class="row row-cols-1 row-cols-md-4 g-4">
                <div class="col">
                    <div class="card">
                        <img src="https://icons.veryicon.com/png/o/miscellaneous/utility/logout-24.png"
                            class="card-img-top" alt="...">
                        <div class="card-body">
                            <h5 class="text-center">Toserbaname</h5>
                            <p class="text-center">Deskripsi</p>
                        </div>
                        <div class="d-flex justify-content-around mb-5">
                            <button class="btn btn-secondary">lihat</button>
                        </div>
                    </div>
                </div>
            </div>


            <div class="container">
                <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
                    <div class="col-md-4 d-flex align-items-center">
                        <a href="/home" class="mb-3 me-2 mb-md-0 text-body-secondary text-decoration-none lh-1">
                            <img src="/static/logo.png" alt="" style="max-height: 25px;">
                        </a>

                    </div>
                    <span class="mb-3 mb-md-0 text-body-secondary">© 2023 Toko Nusantara, </span>
                    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
                        <li class="ms-3"><a class="text-body-secondary" href="#"><i class="fa-brands fa-instagram"
                                    style="color: #f457c3;"></i></a></li>
                        <li class="ms-3"><a class="text-body-secondary" href="#"><i class="fa-regular fa-envelope"
                                    style="color: #eb2424;"></i></a></li>
                        <li class="ms-3"><a class="text-body-secondary" href="#"><i class="fa-brands fa-facebook"
                                    style="color: #0b53d0;"></i></a></li>

                    </ul>
                </footer>
            </div>
            <!-- Bootstrap JavaScript Libraries -->
            <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
                integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
                crossorigin="anonymous">
                </script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
                integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
                crossorigin="anonymous">
                </script>
        </div>
    </body>

</html>